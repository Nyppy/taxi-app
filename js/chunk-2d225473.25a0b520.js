(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d225473"],{e45c:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"fix-header card-no-border fix-sidebar"},[s("div",{attrs:{id:"main-wrapper"}},[s("Header"),s("div",{staticClass:"page-wrapper",staticStyle:{"min-height":"324px"}},[s("div",{staticClass:"container-fluid"},[t._m(0),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("PaymentRequestFilter"),s("div",{staticClass:"card"},[s("div",{staticClass:"table-responsive m-t-40"},[s("div",{staticClass:"dataTables_wrapper container-fluid dt-bootstrap4 no-footer",attrs:{id:"payment-request_wrapper"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-12 col-md-6"},[s("div",{staticClass:"dataTables_length",attrs:{id:"payment-request_length"}},[s("label",[t._v("Отображено "),s("select",{directives:[{name:"model",rawName:"v-model.number",value:t.limit,expression:"limit",modifiers:{number:!0}}],staticClass:"form-control form-control-sm",attrs:{name:"payment-request_length","aria-controls":"payment-request"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var s="_value"in e?e._value:e.value;return t._n(s)}));t.limit=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"10"}},[t._v("10")]),s("option",{attrs:{value:"25"}},[t._v("25")]),s("option",{attrs:{value:"50"}},[t._v("50")]),s("option",{attrs:{value:"100"}},[t._v("100")])]),t._v(" записей на страницу ")])])]),t._m(1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-12"},[s("PaymentRequestTable")],1)]),s("PaymentRequestAction")],1)])])],1)])]),s("Footer")],1)],1)])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row page-titles"},[s("div",{staticClass:"col-md-6 col-8 align-self-center"},[s("h3",{staticClass:"text-themecolor mb-0 mt-0"},[t._v(" Заявки на выплату ")]),s("ol",{staticClass:"breadcrumb"},[s("li",{staticClass:"breadcrumb-item"},[s("a",{attrs:{href:"javascript:void(0)"}},[t._v("Главная")])]),s("li",{staticClass:"breadcrumb-item active"},[t._v(" Заявки на выплату ")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-sm-12 col-md-6"},[s("div",{staticClass:"dataTables_filter",attrs:{id:"payment-request_filter"}},[s("label",[t._v("Поиск:"),s("input",{staticClass:"form-control form-control-sm",attrs:{type:"search",placeholder:"","aria-controls":"payment-request"}})])])])}],n=(s("a4d3"),s("4de4"),s("e439"),s("dbb4"),s("b64b"),s("159b"),s("ade3")),l=s("2f62"),i=s("0418"),c=s("fd2d"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",{class:["display","nowrap","table","table-hover","table-striped","table-bordered","table-drivers","dataTable","no-footer"],staticStyle:{width:"100%"},attrs:{id:"payment-request",cellspacing:"0",width:"100%",role:"grid","aria-describedby":"payment-request_info"}},[t._m(0),s("tbody",t._l(t.paymentRequests,(function(e){return s("tr",{key:e.id,staticClass:"odd"},[s("td",{staticClass:"sorting_1"},[s("label",{staticClass:"mb-0"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.selected)?t._i(t.selected,e.id)>-1:t.selected},on:{change:function(s){var a=t.selected,r=s.target,n=!!r.checked;if(Array.isArray(a)){var l=e.id,i=t._i(a,l);r.checked?i<0&&(t.selected=a.concat([l])):i>-1&&(t.selected=a.slice(0,i).concat(a.slice(i+1)))}else t.selected=n}}}),s("span",{staticClass:"sr-only"},[t._v("Select Row")])])]),s("td",[t._v(t._s(e.key))]),s("td",[s("span",{staticClass:"text-muted"},[s("i",{staticClass:"far fa-clock"}),t._v(" "+t._s(t.date(e.created)))])]),s("td",[t._v(t._s(e.fio))]),s("td",[t._v(t._s(e.group))]),s("td",[t._v(t._s(e.get_payment_type_display))]),s("td",[t._v(t._s(e.payment_sum))]),s("td",[t._v(t._s(e.payment_amount_sum))])])})),0)])},u=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",{attrs:{role:"row"}},[s("th",{staticClass:"sorting_asc",staticStyle:{width:"27px"},attrs:{tabindex:"0","aria-controls":"payment-request",rowspan:"1",colspan:"1","aria-sort":"ascending","aria-label":" Select All: activate to sort column descending"}},[s("label",{staticClass:"mb-0"},[s("input",{attrs:{type:"checkbox"}}),s("span",{staticClass:"sr-only"},[t._v(" Select All")])])]),s("th",{staticClass:"sorting",staticStyle:{width:"93px"},attrs:{tabindex:"0","aria-controls":"payment-request",rowspan:"1",colspan:"1","aria-label":"ID платежа: activate to sort column ascending"}},[t._v(" ID платежа ")]),s("th",{staticClass:"sorting",staticStyle:{width:"120px"},attrs:{tabindex:"0","aria-controls":"payment-request",rowspan:"1",colspan:"1","aria-label":"Дата создания: activate to sort column ascending"}},[t._v(" Дата создания ")]),s("th",{staticClass:"sorting",staticStyle:{width:"119px"},attrs:{tabindex:"0","aria-controls":"payment-request",rowspan:"1",colspan:"1","aria-label":"ФИО водителя: activate to sort column ascending"}},[t._v(" ФИО водителя ")]),s("th",{staticClass:"sorting",staticStyle:{width:"93px"},attrs:{tabindex:"0","aria-controls":"payment-request",rowspan:"1",colspan:"1","aria-label":"Группа: activate to sort column ascending"}},[t._v(" Группа ")]),s("th",{staticClass:"sorting",staticStyle:{width:"93px"},attrs:{tabindex:"0","aria-controls":"payment-request",rowspan:"1",colspan:"1","aria-label":"Тип заявки: activate to sort column ascending"}},[t._v(" Тип заявки ")]),s("th",{staticClass:"sorting",staticStyle:{width:"114px"},attrs:{tabindex:"0","aria-controls":"payment-request",rowspan:"1",colspan:"1","aria-label":"Сумма заявки: activate to sort column ascending"}},[t._v(" Сумма заявки ")]),s("th",{staticClass:"sorting",staticStyle:{width:"147px"},attrs:{tabindex:"0","aria-controls":"payment-request",rowspan:"1",colspan:"1","aria-label":"Сумма на выплату: activate to sort column ascending"}},[t._v(" Сумма на выплату ")])])])}],p=s("5c0f");function d(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function m(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?d(Object(s),!0).forEach((function(e){Object(n["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var v={name:"PaymentRequestTable",computed:m({selected:{get:function(){return this.$store.state.paymentRequests.selectedPaymentRequest},set:function(t){this.setSelectedPaymentRequest(t)}}},Object(l["e"])("paymentRequests",["paymentRequests"])),methods:m({date:function(t){return Object(p["a"])(t)}},Object(l["d"])("paymentRequests",["setSelectedPaymentRequest"]))},b=v,f=s("2877"),y=Object(f["a"])(b,o,u,!1,null,null,null),_=y.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card mt-3 mb-3"},[s("div",{staticClass:"container-fluid"},[s("form",{staticClass:"report-form"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-2 col-6"},[s("div",{staticClass:"form-group mb-3"},[s("label",[t._v("Дата c ")]),s("v-date-picker",{attrs:{"input-props":{placeholder:"Выберите"}}})],1)]),s("div",{staticClass:"col-xl-2 col-6"},[s("div",{staticClass:"form-group mb-3"},[s("label",[t._v("Дата до ")]),s("v-date-picker",{attrs:{"input-props":{placeholder:"Выберите"}}})],1)]),s("div",{staticClass:"col-xl-2"},[s("div",{staticClass:"form-group mb-3"},[s("label",{staticClass:"control-label"},[t._v("Группа")]),s("b-form-select",{attrs:{options:t.select_group_options},scopedSlots:t._u([{key:"first",fn:function(){return[s("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v(" Выберите ")])]},proxy:!0}]),model:{value:t.select_group,callback:function(e){t.select_group=e},expression:"select_group"}})],1)]),t._m(0),s("div",{staticClass:"col-xl-2"},[s("div",{staticClass:"form-group mb-3"},[s("label",{staticClass:"control-label"},[t._v("Тип списания")]),s("b-form-select",{attrs:{options:t.select_type_options},scopedSlots:t._u([{key:"first",fn:function(){return[s("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v(" Выберите ")])]},proxy:!0}]),model:{value:t.select_type,callback:function(e){t.select_type=e},expression:"select_type"}})],1)])]),t._m(1)])])])},h=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-xl-4"},[s("div",{staticClass:"form-group mb-3"},[s("label",{staticClass:"control-label"},[t._v("Водитель")]),s("input",{staticClass:"form-control",attrs:{type:"text",placeholder:""}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-10 col-12 order-1 order-xl-2"},[s("div",{staticClass:"d-flex flex-wrap flex-xl-nowrap align-items-center"},[s("div",{staticClass:"button-group ml-xl-auto"},[s("button",{staticClass:"btn waves-effect waves-light btn-outline-primary",attrs:{type:"button"}},[t._v(" Сегодня ")]),s("button",{staticClass:"btn waves-effect waves-light btn-outline-secondary",attrs:{type:"button"}},[t._v(" Вчера ")]),s("button",{staticClass:"btn waves-effect waves-light btn-outline-success",attrs:{type:"button"}},[t._v(" Эта неделя ")]),s("button",{staticClass:"btn waves-effect waves-light btn-outline-info",attrs:{type:"button"}},[t._v(" Прошлая неделя ")]),s("button",{staticClass:"btn waves-effect waves-light btn-outline-dark",attrs:{type:"button"}},[t._v(" Этот месяц ")]),s("button",{staticClass:"btn waves-effect waves-light btn-outline-danger",attrs:{type:"button"}},[t._v(" Прошлый месяц ")])])])]),s("div",{staticClass:"col-12 col-sm-2 order-2 order-xl-1"},[s("button",{staticClass:"btn btn-success w-100 h-100",attrs:{type:"submit"}},[t._v(" Показать ")])])])}],C={name:"PaymentRequestFilter"},w=C,O=Object(f["a"])(w,g,h,!1,null,"f6cc4e74",null),P=O.exports,q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-12 ",class:{"col-md-5":!t.selectedPaymentRequest.length,"col-md-3":t.selectedPaymentRequest.length}},[s("div",{staticClass:"dataTables_info",attrs:{id:"payment-request_info",role:"status","aria-live":"polite"}},[t._v(" Показано с "+t._s(t.firstRecord)+" по "+t._s(t.lastRecord)+" из "+t._s(t.fullCount)+" записей ")])]),t.selectedPaymentRequest.length?s("div",{staticClass:"col-sm-12 col-md-6 row align-items-center"},[s("div",{staticClass:"col-md-4"},[t._v(" Действия с выбранными ")]),s("div",{staticClass:"col-md-4"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectAction,expression:"selectAction"}],staticClass:"form-control custom-select",attrs:{"data-placeholder":"Выберите"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectAction=e.target.multiple?s:s[0]}}},[s("option",{attrs:{disabled:"",selected:"",hidden:""},domProps:{value:null}},[t._v(" Выберите ")]),s("option",{domProps:{value:1}},[t._v(" Создать ведомость ")])])]),s("div",{staticClass:"col-md-4"},[s("button",{staticClass:"btn btn-primary",on:{click:t.action}},[t._v(" Выполнить ")])])]):t._e(),s("div",{staticClass:"col-sm-12",class:{"col-md-7":!t.selectedPaymentRequest.length,"col-md-3":t.selectedPaymentRequest.length}},[s("div",{staticClass:"dataTables_paginate paging_simple_numbers",attrs:{id:"payment-request_paginate"}},[t.totalPages>1?s("paginate",{attrs:{"page-count":t.totalPages,"prev-text":"Пред.","next-text":"След.","container-class":"pagination","page-class":"paginate_button page-item","page-link-class":"page-link","prev-link-class":"page-link","next-link-class":"page-link","prev-class":"paginate_button page-item previous","next-class":"paginate_button page-item next","hide-prev-next":!0},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e()],1)])])},x=[],j=(s("96cf"),s("1da1")),R=s("4328"),k=s.n(R),S=s("2777");function A(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function E(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?A(Object(s),!0).forEach((function(e){Object(n["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):A(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var D={name:"PaymentRequestAction",data:function(){return{selectAction:null}},computed:E({page:{get:function(){return this.$store.state.paymentRequests.page},set:function(t){this.setPage(t),this.getPaymentRequests()}}},Object(l["e"])("paymentRequests",["fullCount","totalPages","selectedPaymentRequest"]),{},Object(l["c"])("paymentRequests",["firstRecord","lastRecord"])),methods:E({createBill:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S["a"].post("/create-bill/",k.a.stringify({payment_requests:this.selectedPaymentRequest},{arrayFormat:"repeat",encode:!1}));case 2:e=t.sent,s=e.data,!0===s.status&&this.setSelectedPaymentRequest([]);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),action:function(){return 1===this.selectAction?this.createBill():null}},Object(l["d"])("paymentRequests",["setPage","setSelectedPaymentRequest"]),{},Object(l["b"])("paymentRequests",["getPaymentRequests"]))},$=D,T=Object(f["a"])($,q,x,!1,null,null,null),F=T.exports;function N(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function B(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?N(Object(s),!0).forEach((function(e){Object(n["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):N(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var H={name:"PaymentRequest",components:{PaymentRequestAction:F,PaymentRequestFilter:P,PaymentRequestTable:_,Footer:c["a"],Header:i["a"]},data:function(){return{showPreloader:!1,select_group:null,select_group_options:[{value:"a",text:"Группа 1"},{value:"b",text:"Группа 2"}],select_type:null,select_type_options:[{value:"a",text:"Заявка парка"},{value:"b",text:"Заявка водителя"}]}},computed:B({limit:{get:function(){return this.$store.state.paymentRequests.limit},set:function(t){this.setLimit(t),this.setPage(1),this.getPaymentRequests()}}},Object(l["e"])("paymentRequests",["paymentRequests"])),mounted:function(){this.getPaymentRequests()},methods:B({},Object(l["d"])("paymentRequests",["setLimit","setPage"]),{},Object(l["b"])("paymentRequests",["getPaymentRequests"]))},I=H,J=Object(f["a"])(I,a,r,!1,null,null,null);e["default"]=J.exports}}]);
//# sourceMappingURL=chunk-2d225473.25a0b520.js.map